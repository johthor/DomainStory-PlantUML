@startuml airportBus
!include ../domainStory.puml

!include <material/bus>
!define Bus(e_label) MA_BUS(ICON_COLOR, ICON_SCALE, e_label, rectangle, e_label)
!define Bus(e_label, e_alias) MA_BUS(ICON_COLOR, ICON_SCALE, e_alias, rectangle, e_label)

Person(gate agent, agent)
Person(bus dispatcher, dispatcher)
System(bus dispatching, dispatching)
Person(bus driver, driver)
Group(passengers)

Boundary(contracting) {
    Call(bus, busCall)
    Document("job to order", jobOrder)
    Call(order)
}

Boundary(transport) {
    Bus(bus)
}

Boundary(logging) {
    Document("details of the journey", details1)
    Document("details of the journey", details2)
    Document("details of the journey", details3)
    note left of details1
        Disruptions,
        number of
        passengers
        transported, etc.
    end note
}

activity(1, agent, orders, busCall, from, dispatcher)
activity(2, dispatcher, creates, jobOrder, in, dispatching)
activityBW(3, dispatcher, gives, order, to, driver)
activityBW(4, driver, transports by, bus, passengers)
activity(5, driver, logs, details1)
activity(6, driver, hands over, details2, at the end of the shift to, dispatcher)
activity(7, dispatcher, enters, details3, in, dispatching)

order -[hidden]left- driver
details1 -[hidden]- details2
details2 -[hidden]- details3
busCall -[hidden]- jobOrder
contracting -[hidden]down- logging
@enduml
